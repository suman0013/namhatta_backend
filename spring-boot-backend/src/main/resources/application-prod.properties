# Production Profile Configuration

# Server Configuration
server.port=5000
server.error.include-message=never
server.error.include-stacktrace=never

# Database Configuration (REQUIRED environment variables)
spring.datasource.url=${DATABASE_URL}

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.use_sql_comments=false

# Logging - Less verbose in production
logging.level.root=WARN
logging.level.com.namhatta=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN

# Log to file in production
logging.file.name=logs/namhatta-app.log
logging.file.max-size=10MB
logging.file.max-history=30

# Actuator - Limited exposure
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never

# Security Headers
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=strict

# Connection Pool - Production settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# JWT Configuration (REQUIRED environment variable)
jwt.secret=${JWT_SECRET}
jwt.expiration=3600000

# Session Configuration (REQUIRED environment variable)
session.secret=${SESSION_SECRET}

# CORS Configuration (REQUIRED environment variable)
cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:5000}
cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
cors.allowed-headers=Content-Type,Authorization,X-Requested-With,Cache-Control
cors.allow-credentials=true
cors.max-age=86400

# Rate Limiting
rate.limit.login.requests=5
rate.limit.login.duration=900
rate.limit.api.requests=100
rate.limit.api.duration=60
